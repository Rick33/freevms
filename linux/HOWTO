So far:

Due to use of anynymous structures a more recent gcc is needed.
You might need gcc "2.96" from recent RedHat; someone may have had success with
gcc 3.x.
Redhat 7.2 with gcc "2.96" works. There are anonymous structure offset bugs
that has been coded around.
Redhat 8.0 with gcc 3.2 (RedHat patched) works. The anonymous structure offset
bugs present in pure gcc 3.0.1 was gone in pure 3.1.

Untar freevms, go to the linux directory, and do ./prescript.

Go to the freevms directory and do a make and make install (if uml, see Makefiles for how to compile). Then copy the resulting files from root/.
If you want to know how to make the linker do: cat linker/src/HOW

UserMode Linux no longer needs the symlinks from /usr/include/{asm,linux}
to the kernel build place.
If complaints about modversion.h, do a make update-modverfile.

Go back and make the kernel.

NOTE:
Make dep in linux is broken, so you might have to do make bzImage twice.
See BUGS regarding uml

NOTE on kernel config with VMS options:
There is only one option, CONFIG_VMS (replaces and includes CONFIG_VMS_IO/MM)
Warning: It might be a risky destructive option. FS write may be destructive.
VMS IO works so far only on blockdevices, and the only blockdevices supported
is the uml "harddisk" and on i386 only ide (may not work with all blocksizes).
Boot with init=/bin/sh.
Note that with some kernel options it might not compile, so in case strip away some configs.

Example build i386:
tar xzf freevms-0_0_46.tgz
cd freevms/linux
./prescript
cp -p ~/.config .
make menuconfig
make dep
make bzImage

Example build um:
tar xzf freevms-0_0_46.tgz
cd freevms/linux
mv /usr/include/linux /usr/include/linux.orig
mv /usr/include/asm /usr/include/asm.orig
./prescript
cp -p ~/.config .
make menuconfig ARCH=um
make dep ARCH=um
make linux ARCH=um

